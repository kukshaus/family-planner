@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Manrope:wght@600;700;800&display=swap');

@layer base {
  :root {
    /* Backgrounds - Stripe-inspired neutral palette */
    --background: 248 250 252;           /* neutral-50 */
    --background-elevated: 255 255 255;  /* white */
    --surface: 255 255 255;              /* white */
    --surface-hover: 241 245 249;        /* neutral-100 */

    /* Text */
    --foreground: 15 23 42;              /* neutral-900 */
    --foreground-secondary: 100 116 139; /* neutral-500 */
    --foreground-tertiary: 148 163 184;  /* neutral-400 */

    /* Borders */
    --border: 226 232 240;               /* neutral-200 */
    --border-hover: 203 213 225;         /* neutral-300 */

    /* Accent colors */
    --accent: 139 92 246;                /* accent purple */
    --accent-foreground: 255 255 255;

    /* Legacy compatibility */
    --card: 255 255 255;
    --card-foreground: 15 23 42;
    --popover: 255 255 255;
    --popover-foreground: 15 23 42;
    --primary: 139 92 246;
    --primary-foreground: 255 255 255;
    --secondary: 59 130 246;
    --secondary-foreground: 255 255 255;
    --muted: 241 245 249;
    --muted-foreground: 100 116 139;
    --destructive: 220 38 38;
    --destructive-foreground: 255 255 255;
    --input: 226 232 240;
    --ring: 139 92 246;
    --radius: 0.75rem;

    /* Shadows */
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);
    --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1);
  }

  .dark {
    /* Dark mode - Stripe-inspired */
    --background: 2 6 23;                /* neutral-950 */
    --background-elevated: 15 23 42;     /* neutral-900 */
    --surface: 30 41 59;                 /* neutral-800 */
    --surface-hover: 51 65 85;           /* neutral-700 */

    --foreground: 248 250 252;           /* neutral-50 */
    --foreground-secondary: 148 163 184; /* neutral-400 */
    --foreground-tertiary: 100 116 139;  /* neutral-500 */

    --border: 51 65 85;                  /* neutral-700 */
    --border-hover: 71 85 105;           /* neutral-600 */

    --accent: 139 92 246;
    --accent-foreground: 255 255 255;

    /* Legacy compatibility */
    --card: 30 41 59;
    --card-foreground: 248 250 252;
    --popover: 15 23 42;
    --popover-foreground: 248 250 252;
    --primary: 139 92 246;
    --primary-foreground: 255 255 255;
    --secondary: 59 130 246;
    --secondary-foreground: 255 255 255;
    --muted: 51 65 85;
    --muted-foreground: 148 163 184;
    --destructive: 220 38 38;
    --destructive-foreground: 255 255 255;
    --input: 51 65 85;
    --ring: 139 92 246;
  }
}

@layer base {
  body {
    @apply bg-neutral-50 dark:bg-neutral-950 text-neutral-700 dark:text-neutral-200 font-sans;
    font-feature-settings: "rlig" 1, "calt" 1, "kern" 1;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }

  /* Premium Typography Scale - Mobile First */
  h1, .heading-1 {
    @apply font-heading font-bold text-neutral-900 dark:text-white;
    font-size: clamp(2rem, 5vw, 3rem);        /* 32px - 48px */
    line-height: 1.1;
    letter-spacing: -0.025em;
  }

  h2, .heading-2 {
    @apply font-heading font-bold text-neutral-900 dark:text-white;
    font-size: clamp(1.5rem, 4vw, 2.25rem);   /* 24px - 36px */
    line-height: 1.2;
    letter-spacing: -0.02em;
  }

  h3, .heading-3 {
    @apply font-heading font-semibold text-neutral-800 dark:text-neutral-100;
    font-size: clamp(1.25rem, 3vw, 1.875rem); /* 20px - 30px */
    line-height: 1.3;
    letter-spacing: -0.015em;
  }

  h4, .heading-4 {
    @apply font-heading font-semibold text-neutral-800 dark:text-neutral-100;
    font-size: clamp(1.125rem, 2.5vw, 1.5rem); /* 18px - 24px */
    line-height: 1.4;
  }

  /* Body text */
  .text-body-lg {
    @apply text-neutral-600 dark:text-neutral-300;
    font-size: clamp(1rem, 2vw, 1.125rem);    /* 16px - 18px */
    line-height: 1.6;
  }

  .text-body {
    @apply text-neutral-600 dark:text-neutral-300;
    font-size: 1rem;                          /* 16px */
    line-height: 1.5;
  }

  .text-body-sm {
    @apply text-neutral-500 dark:text-neutral-400;
    font-size: 0.875rem;                      /* 14px */
    line-height: 1.5;
  }

  /* Numbers/Metrics */
  .text-metric {
    @apply font-heading font-bold text-neutral-900 dark:text-white tabular-nums;
    font-feature-settings: "tnum" 1, "liga" 0;
    letter-spacing: -0.02em;
  }

  /* Labels */
  .text-label {
    @apply font-medium text-neutral-700 dark:text-neutral-300 uppercase tracking-wider;
    font-size: 0.6875rem;                     /* 11px */
    letter-spacing: 0.05em;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  /* Animations */
  .animate-in {
    animation: animate-in 0.3s ease-out;
  }

  @keyframes animate-in {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Glass Morphism Effects - Stripe Style */
  .glass-default {
    background: rgba(255, 255, 255, 0.7);
    backdrop-filter: blur(12px) saturate(180%);
    -webkit-backdrop-filter: blur(12px) saturate(180%);
    border: 1px solid rgba(255, 255, 255, 0.18);
    box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.07);
  }

  .dark .glass-default {
    background: rgba(30, 41, 59, 0.7);
    border: 1px solid rgba(255, 255, 255, 0.08);
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);
  }

  .glass-elevated {
    background: rgba(255, 255, 255, 0.85);
    backdrop-filter: blur(16px) saturate(180%);
    -webkit-backdrop-filter: blur(16px) saturate(180%);
    border: 1px solid rgba(255, 255, 255, 0.3);
    box-shadow:
      0 8px 32px 0 rgba(31, 38, 135, 0.1),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.5);
  }

  .dark .glass-elevated {
    background: rgba(30, 41, 59, 0.85);
    border: 1px solid rgba(255, 255, 255, 0.12);
    box-shadow:
      0 8px 32px 0 rgba(0, 0, 0, 0.4),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.1);
  }

  .glass-bordered {
    background: rgba(255, 255, 255, 0.6);
    backdrop-filter: blur(10px) saturate(180%);
    -webkit-backdrop-filter: blur(10px) saturate(180%);
    border: 2px solid rgba(226, 232, 240, 0.5);
  }

  .dark .glass-bordered {
    background: rgba(30, 41, 59, 0.6);
    border: 2px solid rgba(51, 65, 85, 0.5);
  }

  /* Blur variants */
  .glass-blur-sm {
    backdrop-filter: blur(8px) saturate(180%);
    -webkit-backdrop-filter: blur(8px) saturate(180%);
  }

  .glass-blur-md {
    backdrop-filter: blur(12px) saturate(180%);
    -webkit-backdrop-filter: blur(12px) saturate(180%);
  }

  .glass-blur-lg {
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
  }

  /* Performance fallback for browsers without backdrop-filter */
  @supports not (backdrop-filter: blur(1px)) {
    .glass-default, .glass-elevated, .glass-bordered {
      background: rgba(255, 255, 255, 0.95);
    }
    .dark .glass-default, .dark .glass-elevated, .dark .glass-bordered {
      background: rgba(30, 41, 59, 0.95);
    }
  }

  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    .glass-default, .glass-elevated, .glass-bordered {
      backdrop-filter: none;
      -webkit-backdrop-filter: none;
    }
  }

  /* Button Micro-interactions */
  .button-press {
    transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
  }

  .button-press:active {
    transform: scale(0.97);
  }

  @media (hover: hover) and (pointer: fine) {
    .button-press:hover {
      transform: translateY(-1px);
    }
  }

  /* Touch feedback for mobile */
  @media (hover: none) and (pointer: coarse) {
    .button-press:active {
      transform: scale(0.95);
      opacity: 0.9;
    }
  }

  /* Ripple effect */
  @keyframes ripple {
    0% {
      transform: scale(0);
      opacity: 0.5;
    }
    100% {
      transform: scale(4);
      opacity: 0;
    }
  }

  .button-ripple {
    position: relative;
    overflow: hidden;
  }

  .button-ripple::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 5px;
    height: 5px;
    background: rgba(255, 255, 255, 0.5);
    border-radius: 50%;
    transform: scale(0);
    pointer-events: none;
  }

  .button-ripple:active::after {
    animation: ripple 0.6s ease-out;
  }

  /* Input glow effects */
  .input-glow {
    transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);
  }

  .input-glow:focus {
    box-shadow:
      0 0 0 3px rgba(139, 92, 246, 0.1),
      0 1px 2px 0 rgba(0, 0, 0, 0.05);
    border-color: rgb(139 92 246);
  }

  .dark .input-glow:focus {
    box-shadow:
      0 0 0 3px rgba(139, 92, 246, 0.2),
      0 1px 2px 0 rgba(0, 0, 0, 0.2);
  }

  /* Skeleton shimmer animation */
  @keyframes shimmer {
    0% {
      background-position: -1000px 0;
    }
    100% {
      background-position: 1000px 0;
    }
  }

  .skeleton {
    background: linear-gradient(
      90deg,
      rgba(226, 232, 240, 0.2) 0%,
      rgba(226, 232, 240, 0.4) 50%,
      rgba(226, 232, 240, 0.2) 100%
    );
    background-size: 1000px 100%;
    animation: shimmer 2s infinite linear;
  }

  .dark .skeleton {
    background: linear-gradient(
      90deg,
      rgba(51, 65, 85, 0.2) 0%,
      rgba(51, 65, 85, 0.4) 50%,
      rgba(51, 65, 85, 0.2) 100%
    );
  }

  /* Touch optimization */
  button, a, [role="button"] {
    touch-action: manipulation;
    user-select: none;
    -webkit-user-select: none;
    -webkit-tap-highlight-color: transparent;
  }

  /* CSS containment for performance */
  .card, .glass-card {
    contain: layout style paint;
  }
  
  /* Custom scrollbar */
  .custom-scrollbar::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  
  .custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
  }
  
  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: #cbd5e1;
    border-radius: 4px;
  }
  
  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: #94a3b8;
  }
  
  .dark .custom-scrollbar::-webkit-scrollbar-thumb {
    background: #334155;
  }
  
  .dark .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: #475569;
  }
}
